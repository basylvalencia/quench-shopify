{%  style  %}
  .instagram-list .swiper-slide img {
    border-radius: 15px;
  }

  .instagram-list .swiper-slide a {
    position: absolute;
    bottom: 5px;
    left: 15px;
    color: #fff;
  }

  .section__title {
    font-style: italic;
    font-size: 30px;
    line-height:39px;
    margin-bottom: 30px;
    text-align: center;
  }

  .section__title--accent {
    font-style: normal;
  }

  @media screen and (min-width: 769px) {
    .section__title {
      font-size: 46px;
      line-height:57px;
      margin-bottom: 50px;
    }
  }
{% endstyle %}
<div class="instagram-list section no-padding-right">
  {% if section.settings.first_title %}
    <h2 class="section__title instrument-serif">
      {{ section.settings.first_title }}
      {% if section.settings.cont_title %}
        <span class="section__title--accent helvetica-neue"> {{ section.settings.cont_title }}</span>
      {% endif %}
    </h2>
  {% endif %}
  <div class="instagram instagram-swiper swiper">
    <div class="swiper-wrapper">
      {% for block in section.blocks %}
        <div class="swiper-slide">
          {%- capture block_content -%}
            {%- if block.settings.instagram_image != blank -%}
              {%- capture sizes -%}471px{%- endcapture -%}
              {%- capture widths -%}471, {{ 471 | times: 2 | at_most:471 }}{%- endcapture -%}
              {%- capture max_width -%}--logo-list-image-max-width:471px{%- endcapture -%}
              {{- block.settings.instagram_image | image_url: width: block.settings.instagram_image.width | image_tag: style: max_width, loading: loading_strategy, widths: widths, class: 'logo-list__image', sizes: sizes -}}
            {%- else -%}
              {{- 'image' | placeholder_svg_tag: 'logo-list__image' -}}
            {%- endif -%}
          {%- endcapture -%}
          {{ block_content }}
          {% comment %} <img src="{{ block.settings.image | img_url: shopify_asset_url }}" alt="{{ block.settings.title }}"> {% endcomment %}
          {% if block.settings.link and block.settings.title %}
            <a href="{{ block.settings.link }}">{{ block.settings.title }}</a>
          {% endif %}
        </div>
      {% endfor %}
    </div>
  </div>
</div>

 <script>
    var swiper = new Swiper(".instagram-swiper", {
      slidesPerView: 2.5,
      spaceBetween: 20,
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
      },
      breakpoints: {
        768: {
          slidesPerView: 5.5,
          spaceBetween: 30,
        },
      }
    });
  </script>

{% schema %}
{
  "name": "Instagram List",
  "class": "shopify-section--instagram-list",
  "tag": "section",
  "disabled_on": {
    "templates": ["password"]
  },
  "settings": [
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "Full width",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "stack_mobile",
      "label": "Stack on mobile",
      "default": true
    },
    {
      "type": "text",
      "id": "first_title",
      "label": "First Title",
      "default": "Join"
    },
    {
      "type": "text",
      "id": "cont_title",
      "label": "Continuation Title",
      "default": "the #quenchfam"
    }
  ],
  "blocks": [
    {
      "type": "image",
      "name": "Instagram",
      "settings": [
        {
          "type": "image_picker",
          "id": "instagram_image",
          "label": "Instagram Image",
          "info": "476 x 701px .jpg recommended"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Instagram Title"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Instagram List",
      "category": "Media",
      "blocks": [
        {
          "type": "image"
        },
        {
          "type": "image"
        },
        {
          "type": "image"
        },
        {
          "type": "image"
        },
        {
          "type": "image"
        }
      ]
    }
  ]
}
{% endschema %}